<HTML>
<HEAD>
<META HTTP-EQUIV="content-type" content="text/html; charset=windows-1251">
<!-- Created by texi2html 1.57 from /ibend/man/texinfo/html/texinfo.texi on September, 29  1999 -->

<TITLE>Texinfo 4.0 - Создание и установка Info-файлов</TITLE>
</HEAD>
<BODY bgcolor="white" text="black">
 [<A HREF="texinfo_toc.html">Contents</A>] &#160; [<A HREF="texinfo_20.html">Previous</A>] &#160; [<A HREF="texinfo_22.html">Next</A>] &#160;<BR><HR><BR>

<H1><A NAME="sec229">Создание и установка Info-файлов</A></H1>

<P>
Эта глава рассказывает, как создать и установить Info-файлы.
т рзС зш С  цш  <A HREF="texinfo_2.html#sec5">Info-файлы</A>, для получения общих сведений о самом формате этих
файлов.




<H2><A NAME="sec230">Создание Info-файла</A></H2>
<P>
<A NAME="idx871"></A>
<A NAME="idx872"></A>
<A NAME="idx873"></A>


<P>
<CODE>makeinfo</CODE> -- это программа, преобразующая Texinfo-файл в
Info-файл, файл на HTML, или простой текст.


<P>
<CODE>texinfo-format-region</CODE> и <CODE>texinfo-format-buffer</CODE> -- это
функции GNU Emacs, преобразующие Texinfo в Info.


<P>
Информацию об установке Info-файла в систему Info смотрите в
Т рзС зш С  цш  <A HREF="texinfo_21.html#sec240">Установка Info-файла</A>.




<H3><A NAME="sec231">Преимущества <CODE>makeinfo</CODE></A></H3>

<P>
Утилита <CODE>makeinfo</CODE> создает Info-файл из исходного Texinfo-файла
быстрее любой форматирующей команды Emacs и предоставляет лучшие
сообщения об ошибках.  Мы рекомендуем применять ее.  <CODE>makeinfo</CODE> ---
это программа на Си, независимая от Emacs.  Вы не должны запускать
Emacs, чтобы использовать <CODE>makeinfo</CODE>, что означает, что вы можете
использовать <CODE>makeinfo</CODE> на машинах, слишком маленьких, чтобы
запустить Emacs.  Вы можете запустить <CODE>makeinfo</CODE> любым из трех
таких способов: из оболочки операционной системы, из оболочки внутри
Emacs или напечатав команды <KBD>C-c C-m C-r</KBD> или <KBD>C-c C-m C-b</KBD> в
режиме Texinfo в Emacs.


<P>
Команды <CODE>texinfo-format-region</CODE> и <CODE>texinfo-format-buffer</CODE>
полезны, если вы не можете запустить <CODE>makeinfo</CODE>.  Кроме того, при
некоторых обстоятельствах они форматируют небольшие области или буферы
быстрее, чем <CODE>makeinfo</CODE>.



<H3><A NAME="sec232">Запуск <CODE>makeinfo</CODE> из оболочки</A></H3>

<P>
Чтобы создать Texinfo-файл из Info-файла, напечатайте <CODE>makeinfo</CODE> и
имя Texinfo-файла.  Таким образом, чтобы создать Info-файл для Bison,
напечатайте в оболочке следующее:



<PRE>
makeinfo bison.texinfo
</PRE>

<P>
(Вы можете запустить оболочку в Emacs, напечатав <KBD>M-x
shell</KBD>.)



<H3><A NAME="sec233">Ключи для <CODE>makeinfo</CODE></A></H3>
<P>
<A NAME="idx874"></A>
<A NAME="idx875"></A>


<P>
Команда <CODE>makeinfo</CODE> принимает несколько ключей.  Чаще всего ключи
применяются для задания колонки заполнения и стиля сносок.  Каждый ключ
командной строки -- это слово с предшествующими символами <SAMP>`--'</SAMP> или
буква с предшествующим <SAMP>`-'</SAMP>.  Вы можете использовать сокращения для
длинных ключей, если они однозначны.

<P>
Например, вы можете использовать следующую команду для создания из файла
<TT>`bison.texinfo'</TT> такого Info-файла, в котором каждая строка
заполнена на 68 колонок:


<PRE>
makeinfo --fill-column=68 bison.texinfo
</PRE>

<P>
Вы можете последовательно написать два ключа или более, например так:



<PRE>
makeinfo --no-split --fill-column=70 ...
</PRE>

<P>
Это сохранит Info-файл целиком в виде, возможно, очень большого файла и
установит колонку заполнения равной 70.

<P>
Воспринимаются такие ключи:


<DL COMPACT>

<DT><CODE>-D <VAR>переменная</VAR></CODE>
<DD>
<A NAME="idx876"></A>
Делает <VAR>переменную</VAR> определенной.  Это эквивалентно <CODE>@set
<VAR>переменная</VAR></CODE> в Texinfo-файле (Т рзС зш С  цш  <A HREF="texinfo_17.html#sec200"><CODE>@set</CODE>, <CODE>@clear</CODE> и <CODE>@value</CODE></A>).

<DT><CODE>--commands-in-node-names</CODE>
<DD>
<A NAME="idx877"></A>
Разрешает использование @-команд в именах нод.  Это не рекомендуется,
поскольку, вероятно, никогда не будет реализовано в TeX.  Это также
сильно замедляет работу <CODE>makeinfo</CODE>.  Кроме того, этот ключ
игнорируется, если использован <CODE>--no-validate</CODE>.  т рзС зш С  цш  <A HREF="texinfo_21.html#sec234">Проверка указателей</A>, для дальнейших подробностей.

<DT><CODE>--error-limit=<VAR>предел</VAR></CODE>
<DD>
<DT><CODE>-e <VAR>предел</VAR></CODE>
<DD>
<A NAME="idx878"></A>
<A NAME="idx879"></A>
Устанавливает наибольшее число ошибок, о которых сообщит <CODE>makeinfo</CODE>
перед выходом (в предположении, что продолжать бесполезно); по
умолчанию 100.

<DT><CODE>--fill-column=<VAR>ширина</VAR></CODE>
<DD>
<DT><CODE>-f <VAR>ширина</VAR></CODE>
<DD>
<A NAME="idx880"></A>
<A NAME="idx881"></A>
Устанавливает наибольшее число колонок в строке; это правый край строки.
Заполнение абзацев происходит по этой ширине.  (Заполнение -- это
процесс разбиения и слияния строк таким образом, чтобы они имели длину,
меньшую или равную числу, заданному в качестве колонки заполнения.
Строки разбиваются между словами.)  Значение по умолчанию равно 72.
Игнорируется с <SAMP>`--html'</SAMP>.

<DT><CODE>--footnote-style=<VAR>стиль</VAR></CODE>
<DD>
<DT><CODE>-s <VAR>стиль</VAR></CODE>
<DD>
<A NAME="idx882"></A>
<A NAME="idx883"></A>
Устанавливает стиль сносок равным <VAR>стилю</VAR>, <SAMP>`end'</SAMP> для сносок в
конце ноды (по умолчанию) или <SAMP>`separate'</SAMP> для отдельных сносок.
Значение, заданное этим ключом, перекрывает установленное в
Texinfo-файле командой <CODE>@footnotestyle</CODE> (Т рзС зш С  цш  <A HREF="texinfo_14.html#sec171">Сноски</A>).
Когда стиль сносок установлен в значение <SAMP>`separate'</SAMP>,
<CODE>makeinfo</CODE> создает новую ноду для сносок, находящихся в текущей
ноде.  Когда стиль сносок установлен в значение <SAMP>`end'</SAMP>,
<CODE>makeinfo</CODE> помещает сноски в конце текущей ноды.  Игнорируется
<SAMP>`--html'</SAMP>.

<DT><CODE>--force</CODE>
<DD>
<DT><CODE>-F</CODE>
<DD>
<A NAME="idx884"></A>
<A NAME="idx885"></A>
Обычно, если входной файл содержит ошибки, выходные файлы не создаются.
С этим ключом, они сохраняются.

<DT><CODE>--help</CODE>
<DD>
<DT><CODE>-h</CODE>
<DD>
<A NAME="idx886"></A>
<A NAME="idx887"></A>
Напечатать сообщение об использовании, перечисляющее все доступные
ключи, и завершить выполнение успешно.

<DT><CODE>--html</CODE>
<DD>
Создавать вывод в формате HTML, а не Info.  т рзС зш С  цш  <A HREF="texinfo_21.html#sec239">Создание HTML</A>.

<DT><CODE>-I <VAR>каталог</VAR></CODE>
<DD>
<A NAME="idx888"></A>
Добавить <VAR>каталог</VAR> в конец списка каталогов для поиска файлов,
включаемых командой <CODE>@include</CODE>.  По умолчанию, <CODE>makeinfo</CODE>
производит поиск только в текущем каталоге.  Если <VAR>каталог</VAR> не
задан, добавляется каталог <TT>`.'</TT>, то есть текущий.  Заметьте, что
<VAR>каталог</VAR> может на самом деле быть списком нескольких каталогов,
разделенных обычным символом-разделителем путей (<SAMP>`:'</SAMP> в Unix,
<SAMP>`;'</SAMP> в MS-DOS/MS-Windows).

<DT><CODE>--macro-expand=<VAR>файл</VAR></CODE>
<DD>
<DT><CODE>-E <VAR>файл</VAR></CODE>
<DD>
Вывести исходный Texinfo-файл, раскрыв все макросы, в заданный файл.
Обычно результаты раскрытия макросов используются внутри <CODE>makeinfo</CODE>
и затем отбрасываются.  Этот ключ используется программой
<CODE>texi2dvi</CODE>, если у вас установлена старая версия
<TT>`texinfo.tex'</TT>, которая не поддерживет <CODE>@macro</CODE>.

<DT><CODE>--no-headers</CODE>
<DD>
<A NAME="idx889"></A>
<A NAME="idx890"></A>
<A NAME="idx891"></A>
<A NAME="idx892"></A>
<A NAME="idx893"></A>
Для вывода в формате Info, не включать меню и строки нод и писать на
стандартный вывод (если не задан ключ <CODE>--output</CODE>).  Это дает в
результате ASCII-файл, который вы не можете читать в Info, так как
он не содержит необходимых нод и меню.  Прежде всего, он нужен, чтобы
извлечь определенные фрагменты руководства в отдельные файлы, включаемые
в пакет, такие, как файлы <TT>`INSTALL'</TT>.

<A NAME="idx894"></A>
При выводе в формате HTML, если также задан <SAMP>`--no-split'</SAMP>, не
включать ссылки для навигации в начало каждой ноды.  т рзС зш С  цш  <A HREF="texinfo_21.html#sec239">Создание HTML</A>.

<DT><CODE>--no-split</CODE>
<DD>
<A NAME="idx895"></A>
<A NAME="idx896"></A>
<A NAME="idx897"></A>
Пропустить стадию разбиения в работе <CODE>makeinfo</CODE>.  По умолчанию,
большие выходные файлы (размером более 70 тысяч байт) разбиваются на
меньшие подфайлы.  При выводе в формате Info, размер каждого примерно 50
тысяч байт.  При выводе в формате HTML, каждый файл содержит одну ноду
(Т рзС зш С  цш  <A HREF="texinfo_21.html#sec239">Создание HTML</A>).

<DT><CODE>--no-pointer-validate</CODE>
<DD>
<DT><CODE>--no-validate</CODE>
<DD>
<A NAME="idx898"></A>
<A NAME="idx899"></A>
<A NAME="idx900"></A>
Пропустить стадию проверки указателей в работе <CODE>makeinfo</CODE>.  Это
можно сделать также командой <CODE>@novalidate</CODE> (Т рзС зш С  цш  <A HREF="texinfo_20.html#sec214">Используйте TeX</A>).  Обычно после обработки Texinfo-файла
производятся некоторые проверки соответствия, чтобы убедиться, что
перекрестные ссылки разрешаются и прочее.  т рзС зш С  цш  <A HREF="texinfo_21.html#sec234">Проверка указателей</A>.

<DT><CODE>--no-warn</CODE>
<DD>
<A NAME="idx901"></A>
Подавить вывод предупреждений (но <EM>не</EM> сообщений об ошибках).  Вы
можете захотеть этого, если созданный вами файл содержит примеры
перекрестных ссылок Texinfo, и ссылаемые ноды на самом деле не
существуют.

<DT><CODE>--number-sections</CODE>
<DD>
<A NAME="idx902"></A>
Выводить номера глав, разделов и приложений как в печатном руководстве.

<DT><CODE>--no-number-footnotes</CODE>
<DD>
<A NAME="idx903"></A>
Подавить автоматическую нумерацию сносок.  По умолчанию <CODE>makeinfo</CODE>
последовательно нумерует все сноски в одной ноде, сбрасывая номер сноски
на 1 в начале каждой ноды.

<DT><CODE>--output=<VAR>файл</VAR></CODE>
<DD>
<DT><CODE>-o <VAR>файл</VAR></CODE>
<DD>
<A NAME="idx904"></A>
<A NAME="idx905"></A>
Указывает, что вывод должен быть направлен в <VAR>файл</VAR>, а не в файл,
заданный командой <CODE>@setfilename</CODE> в исходном Texinfo-файле
(Т рзС зш С  цш  <A HREF="texinfo_4.html#sec29"><CODE>@setfilename</CODE></A>).  Если <VAR>файл</VAR> равен <SAMP>`-'</SAMP>, вывод идет в
стандартный вывод и подразумевается <SAMP>`--no-split'</SAMP>.  При выводе в
формате HTML, <VAR>файл</VAR> -- это имя выходного файла для первой ноды
(Т рзС зш С  цш  <A HREF="texinfo_21.html#sec239">Создание HTML</A>).

<DT><CODE>-P <VAR>каталог</VAR></CODE>
<DD>
<A NAME="idx906"></A>
Добавить <VAR>каталог</VAR> в начало списка каталогов для поиска файлов,
включаемых командой <CODE>@include</CODE>.  Если <VAR>каталог</VAR> не задан,
добавляется каталог <TT>`.'</TT>, то есть текущий.  Смотрите <SAMP>`-I'</SAMP> для
получения деталей.

<DT><CODE>--paragraph-indent=<VAR>отступ</VAR></CODE>
<DD>
<DT><CODE>-p <VAR>отступ</VAR></CODE>
<DD>
<A NAME="idx907"></A>
<A NAME="idx908"></A>
Устанавливает стиль отступов в абзацах равным <VAR>отступу</VAR>.  Значение,
заданное этим ключом, перекрывает установленное в Texinfo-файле командой
<CODE>@paragraphindent</CODE> (Т рзС зш С  цш  <A HREF="texinfo_4.html#sec32">Отступ в начале абзаца</A>).  Значение
<VAR>отступа</VAR> интерпретируется следующим образом:

<DL COMPACT>

<DT><SAMP>`asis'</SAMP>
<DD>
Сохранять существующие отступы в начале абзацев.

<DT><SAMP>`0'</SAMP> или <SAMP>`none'</SAMP>
<DD>
Удалять существующие отступы.

<DT><VAR>число</VAR>
<DD>
Делать в каждом абзаце отступы, равные заданному числу пробелов.
</DL>

<DT><CODE>--reference-limit=<VAR>предел</VAR></CODE>
<DD>
<DT><CODE>-r <VAR>предел</VAR></CODE>
<DD>
<A NAME="idx909"></A>
<A NAME="idx910"></A>
Устанавливает число ссылок на ноду, которое <CODE>makeinfo</CODE> будет
делать, не выдавая предупреждения.  Если нода содержит больше ссылок,
чем это число, <CODE>makeinfo</CODE> создаст эти ссылки, но также выдаст
предупреждение.  Значение по умолчанию равно 1000.

<DT><CODE>-U <VAR>переменная</VAR></CODE>
<DD>
Делает <VAR>переменную</VAR> неопределенной.  Это эквивалентно <CODE>@clear
<VAR>переменная</VAR></CODE> в Texinfo-файле (Т рзС зш С  цш  <A HREF="texinfo_17.html#sec200"><CODE>@set</CODE>, <CODE>@clear</CODE> и <CODE>@value</CODE></A>).

<DT><CODE>--verbose</CODE>
<DD>
<A NAME="idx911"></A>
Заставляет <CODE>makeinfo</CODE> выводить сообщения о том, что она делает.
Обычно <CODE>makeinfo</CODE> выводит сообщения, только если есть ошибки или
предупреждения.

<DT><CODE>--version</CODE>
<DD>
<DT><CODE>-V</CODE>
<DD>
<A NAME="idx912"></A>
<A NAME="idx913"></A>
Напечатать номер версии и завершить выполнение успешно.

</DL>



<H3><A NAME="sec234">Проверка указателей</A></H3>
<P>
<A NAME="idx914"></A>
<A NAME="idx915"></A>


<P>
Если вы не подавили проверку указателей с помощью ключа
<SAMP>`--no-validate'</SAMP> или команды <CODE>@novalidate</CODE> в исходном файле
(Т рзС зш С  цш  <A HREF="texinfo_20.html#sec214">Используйте TeX</A>), <CODE>makeinfo</CODE> сделает
проверку конечного Info-файла.  Как правило это означает проверку того,
что все ноды, на которые вы ссылались, на самом деле существуют.  Вот
полный список проверок:



<OL>
<LI>

Если указатели на ноды `Next', `Previous' или `Up' являются ссылками на
ноды в текущем файле, но не внешними ссылками, такими, как на
<TT>`(dir)'</TT>, то ссылаемая нода должна существовать.

<LI>

В каждой ноде, если нода `Previous' отлична от ноды `Up', то нода, на
которую указывает поле `Previous', должна содержать в поле `Next'
указатель обратно на эту ноду.
<LI>

Каждая нода, за исключением `Top', должна иметь указатель `Up'.
<LI>

Нода, на которую ссылается указатель `Up' должна сама ссылаться на
текущую ноду через пункт меню, за исключением случаев, когда нода, на
которую ссылается `Up' имеет форму `(<VAR>файл</VAR>)'.

<LI>

Если в ноде указатель `Next' не тот же, что и указатель `Next' ноды
`Up', то нода, на которую ссылается `Next' должна иметь указатель
`Previous', ссылающийся обратно на текущую ноду.  Это правило позволяет
последней ноде в разделе ссылаться на на первую ноду следующей
главы.
<LI>

На каждую ноду, за исключением `Top', должна быть ссылка по крайней мере
из одной другой ноды, или через указатели `Previous' или `Next', или
через меню или перекрестную ссылку.</OL>

<P>
<A NAME="idx916"></A>
Некоторые документы Texinfo могут не пройти фазу проверки, потому что в
них команды вроде <CODE>@value</CODE> и <CODE>@definfoenclose</CODE>
использовались в определениях нод и в перекрестных ссылках
непоследовательно.  Рассмотрим следующий пример:



<PRE>
@set nodename Node 1

@node @value{nodename}, Node 2, Top, Top

Это нода 1.

@node Node 2, , Node 1, Top

Это нода 2.
</PRE>

<P>
Эдесь на ноду "Node 1" ссылаются как по точному имени, так и через
<CODE>@value</CODE>.


<P>
По умолчанию <CODE>makeinfo</CODE> терпит в таких случаях неуспех,
поскольку имена нод не раскрываются полностью, пока не будут записаны в
выходной файл.  Вы должны всегда стараться ссылаться на ноды
последовательно; скажем, в примере выше во второй строка <CODE>@node</CODE>
следует также использовать <CODE>@value</CODE>.  Если однако, по какой-либо
причине вы <EM>должны</EM> ссылаться на имена нод непоследовательно, и
<CODE>makeinfo</CODE> не подтверждает правильность этого файла, вы можете
использовать ключ <CODE>--commands-in-node-names</CODE>, чтобы принудить
<CODE>makeinfo</CODE> производить ресурсоемкое раскрытие всех имен нод,
которые она находит в документе.  Это, однако, может заметно замедлить
работу программы; для больших файлов, таких как the Jargon file, было
зафиксировано двукратное увеличение времени преобразования.


<P>
<A NAME="idx917"></A>
Поддержка <CODE>@</CODE>-команд в директивах <CODE>@node</CODE> не обладает
достаточной общностью, чтобы ей можно было свободно пользоваться.
Например, если приведенный выше пример переопределит бы где-то в
документе <CODE>nodename</CODE>, то <CODE>makeinfo</CODE> не сможет преобразовать
ее, даже если вызвать с ключом <CODE>--commands-in-node-names</CODE>.


<P>
<CODE>--commands-in-node-names</CODE> не имеет действия, если задан ключ
<CODE>--no-validate</CODE>.




<H3><A NAME="sec235">Запуск <CODE>makeinfo</CODE> из Emacs</A></H3>
<P>
<A NAME="idx918"></A>
<A NAME="idx919"></A>
<A NAME="idx920"></A>


<P>
Вы можете запустить <CODE>makeinfo</CODE> из режима Texinfo в GNU Emacs,
используя команду <CODE>makeinfo-region</CODE> или <CODE>makeinfo-buffer</CODE>.  В
режиме Texinfo, эти команды по умолчанию привязаны к <KBD>C-c C-m C-r</KBD> и
<KBD>C-c C-m C-b</KBD>.

<DL COMPACT>

<DT><KBD>C-c C-m C-r</KBD>
<DD>
<DT><KBD>M-x makeinfo-region</KBD>
<DD>
Форматировать текущую область для Info.<A NAME="idx921"></A>

<DT><KBD>C-c C-m C-b</KBD>
<DD>
<DT><KBD>M-x makeinfo-buffer</KBD>
<DD>
Форматировать текущий буфер для Info.<A NAME="idx922"></A>
</DL>

<P>
Когда вы вызываете <CODE>makeinfo-region</CODE> или <CODE>makeinfo-buffer</CODE>,
Emacs запрашивает имя файла, предлагая по умолчанию имя текущего файла.
Вы можете, если хотите, отредактировать в минибуфере имя файла по
умолчанию, перед нажатием <KBD>RET</KBD> и началом процесса
<CODE>makeinfo</CODE>.

<P>
Команды Emacs <CODE>makeinfo-region</CODE> и <CODE>makeinfo-buffer</CODE> запускают
программу <CODE>makeinfo</CODE> во временном буфере оболочки.  Если
<CODE>makeinfo</CODE> находит ошибки, Emacs отображает сообщения об ошибках в
этом временном буфере.

<P>
<A NAME="idx923"></A>
<A NAME="idx924"></A>
<A NAME="idx925"></A>
Вы можете произвести грамматический разбор сообщений об ошибках,
напечатав <KBD>C-x `</KBD> (<CODE>next-error</CODE>).  Это заставляет Emacs
перевести курсор на ту строку в исходном Texinfo-файле, которая, по
мнению <CODE>makeinfo</CODE> вызывает ошибку.  т рзС зш С  цш  `Running <CODE>make</CODE> or Compilers Generally'   <CITE>Руководство по GNU Emacs</CITE>,
для подробной информации об использовании команды <CODE>next-error</CODE>.


<P>
Помимо этого, вы можете уничтожить оболочку, в которой запущена команда
<CODE>makeinfo</CODE>, или сделать так, чтобы буфер оболочки показывал самые
последние строки вывода.


<DL COMPACT>

<DT><KBD>C-c C-m C-k</KBD>
<DD>
<DT><KBD>M-x makeinfo-kill-job</KBD>
<DD>
<A NAME="idx926"></A>
Уничтожить запущенный в данный момент процесс <CODE>makeinfo</CODE>, созданный
<CODE>makeinfo-region</CODE> или <CODE>makeinfo-buffer</CODE>.

<DT><KBD>C-c C-m C-l</KBD>
<DD>
<DT><KBD>M-x makeinfo-recenter-output-buffer</KBD>
<DD>
<A NAME="idx927"></A>
Показать в буфере оболочки <CODE>makeinfo</CODE> самые последние строки
вывода.</DL>

<P>
(Обратите внимание, аналогичные команды для уничтожения и центрирования
процесса TeX -- это <KBD>C-c C-t C-k</KBD> и <KBD>C-c C-t C-l</KBD>.
т рзС зш С  цш  <A HREF="texinfo_20.html#sec219">Форматирование и печать в режиме Texinfo</A>.)

<P>
Вы можете задать ключи для <CODE>makeinfo</CODE>, установив переменную
<CODE>makeinfo-options</CODE> с помощью команд <KBD>M-x edit-options</KBD> или
<KBD>M-x set-variable</KBD>, или установив эту переменную в вашем файле
инициализации <TT>`.emacs'</TT>.

<P>
Например, вы можете написать в вашем файле <TT>`.emacs'</TT>
следующее:


<PRE>
(setq makeinfo-options
      "--paragraph-indent=0 --no-split
       --fill-column=70 --verbose")
</PRE>

<P>
Дальнейшую информацию смотрите в С  цш  <A HREF="texinfo_21.html#sec233">Ключи для <CODE>makeinfo</CODE></A>, а также "Editing Variable Values," "Examining and
Setting Variables," и "Init File" в <CITE>Руководстве по GNU Emacs</CITE>.




<H3><A NAME="sec236">Команды <CODE>texinfo-format...</CODE></A></H3>
<P>
<A NAME="idx928"></A>
<A NAME="idx929"></A>


<P>
В режиме Texinfo GNU Emacs вы можете отформатировать Texinfo-файл или
его часть с помощью команды <CODE>texinfo-format-region</CODE>.  Она
форматирует текущую область и выводит форматированный текст во временный
буфер, называемый <SAMP>`*Info Region*'</SAMP>.

<P>
Аналогично, вы можете отформатировать буфер с помощью команды
<CODE>texinfo-format-buffer</CODE>.  Она делает новый буфер и выводит в него
Info-файл.  Вызов <KBD>C-x C-s</KBD> сохранит этот Info-файл под именем,
заданным строкой <CODE>@setfilename</CODE>, которая должна быть недалеко от
начала Texinfo-файла.

<DL COMPACT>

<DT><KBD>C-c C-e C-r</KBD>
<DD>
<DT><KBD><CODE>texinfo-format-region</CODE></KBD>
<DD>
Форматировать текущую область для Info.
<A NAME="idx930"></A>

<DT><KBD>C-c C-e C-b</KBD>
<DD>
<DT><KBD><CODE>texinfo-format-buffer</CODE></KBD>
<DD>
Форматировать текущий буфер для Info.
<A NAME="idx931"></A>
</DL>

<P>
Команды <CODE>texinfo-format-region</CODE> и <CODE>texinfo-format-buffer</CODE>
обеспечивают некоторую проверку ошибок, а другие функции могут
предоставить вам дальнейшую помощь в нахождении ошибок форматирования.
Эти процедуры описаны в приложении; смотрите С  цш  <A HREF="texinfo_28.html#sec262">Ошибки форматирования</A>.
Однако программа <CODE>makeinfo</CODE> часто работает быстрее и предоставляет
лучшую проверку ошибок (Т рзС зш С  цш  <A HREF="texinfo_21.html#sec235">Запуск <CODE>makeinfo</CODE> из Emacs</A>).



<H3><A NAME="sec237">Пакетное форматирование</A></H3>
<P>
<A NAME="idx932"></A>
<A NAME="idx933"></A>


<P>
Вы можете отформатировать Texinfo-файлы для Info, используя
<CODE>batch-texinfo-format</CODE> и пакетный режим Emacs.  Вы можете запустить
Emacs в пакетном режиме из оболочки, в том числе из оболочки внутри
Emacs.  (т рзС зш С  цш  `Command Line Switches and Arguments'   <CITE>Руководство по GNU Emacs</CITE>.)

<P>
Вот команда оболочки для форматирования всех файлов в текущем каталоге,
оканчивающихся на <TT>`.texinfo'</TT>:



<PRE>
emacs --batch --funcall batch-texinfo-format *.texinfo
</PRE>

<P>
Emacs обрабатывает все файлы, перечисленные в командной строке, даже
если во время форматирования некоторых возникли ошибки.

<P>
Запускайте <CODE>batch-texinfo-format</CODE> только в пакетном режиме Emacs,
как показано; эта команда не интерактивна.  Она уничтожает Emacs после
завершения.

<P>
<CODE>batch-texinfo-format</CODE> удобна, если у вас нет <CODE>makeinfo</CODE>, и вы
хотите отформатировать несколько Texinfo-файлов одновременно.  Когда вы
используете пакетный режим, вы создаете новый процесс Emacs.  Это
высвобождает ваш текущий Emacs, так что вы можете продолжать в нем
работать.  (Когда вы запускаете <CODE>texinfo-format-region</CODE> или
<CODE>texinfo-format-buffer</CODE>, вы не можете использовать Emacs ни для
чего больше, пока команда не закончит работу.)



<H3><A NAME="sec238">Создание тегов и разбиение файлов</A></H3>
<P>
<A NAME="idx934"></A>
<A NAME="idx935"></A>


<P>
Если Texinfo-файл содержит более 30000 байт,
<CODE>texinfo-format-buffer</CODE> автоматически создает таблицу тегов для его
Info-файла; <CODE>makeinfo</CODE> всегда создает таблицу тегов.  С
<EM>таблицей тегов</EM> Info может переходить к другим нодам быстрее, чем
без нее.

<P>
<A NAME="idx936"></A>
Кроме того, если Texinfo-файл содержит более примерно 70000 байт,
<CODE>texinfo-format-buffer</CODE> и <CODE>makeinfo</CODE> разбивают большой
Info-файл на меньшие <EM>косвенные</EM> подфайлы примерно по 50000 байт в
каждом.  Большие файлы разбиваются на меньшие, чтобы Emacs не должен был
делать большие буферы для хранения большого Info-файла целиком; вместо
этого Emacs выделяет памяти чтобы как раз хватило для маленького,
отсоединенного файла, нужного в данный момент.  Таким способом Emacs
избегает ненужной траты памяти, когда вы запускаете Info.  (До того, как
было реализовано разбиение, Info-файлы всегда делались короткими, а для
создания единого, большого печатного руководства из меньших Info-файлов
были разработаны <EM>включаемые файлы</EM>.  т рзС зш С  цш  <A HREF="texinfo_26.html#sec252">Включаемые файлы</A>, для
подробной информации.  Включаемые файлы до сих пор используются для
очень больших документов, таких как <CITE>The Emacs Lisp Reference
Manual</CITE>, в котором каждая глава -- это отдельный файл.)

<P>
Когда файл разбит, сама Info использует укороченную версию
первоначального файла, содержащую только таблицу тегов и ссылки на
отсоединенные файлы.  Отсоединенные файлы называются <EM>косвенными</EM>
файлами.

<P>
Отсоединенные файлы имеют имена, образованные добавлением <SAMP>`-1'</SAMP>,
<SAMP>`-2'</SAMP>, <SAMP>`-3'</SAMP> и так далее к имени файла, заданного
командой <CODE>@setfilename</CODE>.  Укороченная версия первоначального файла
так же имеет имя, заданное <CODE>@setfilename</CODE>.

<P>
На одной стадии написания оригинала этого документа, к примеру,
Info-файл был сохранен как <TT>`test-texinfo'</TT>, и этот файл выглядел
следующим образом:


<PRE>
Info file: test-texinfo,    -*-Text-*-
produced by texinfo-format-buffer
from file: new-texinfo-manual.texinfo

^_
Indirect:
test-texinfo-1: 102
test-texinfo-2: 50422
test-texinfo-3: 101300
^_^L
Tag table:
(Indirect)
Node: overview^?104
Node: info file^?1271
Node: printed manual^?4853
Node: conventions^?6855
...
</PRE>

<P>
(Но в <TT>`test-texinfo'</TT> было гораздо больше нод, чем показано здесь.)
Каждый из отсоединенных, косвенных файлов, <TT>`test-texinfo-1'</TT>,
<TT>`test-texinfo-2'</TT> и <TT>`test-texinfo-3'</TT>, перечислен в этом файле
после строки, в которой написано <SAMP>`Indirect:'</SAMP>.  Таблица тегов
помещена после строки <SAMP>`Tag table:'</SAMP>.

<P>
В перечне косвенных файлов, число, следующее после имени файла, хранит
накопленное количество байт в предыдущих косвенных файлах, не считая сам
перечень файлов, таблицу тегов или текст разрешения на копирование в
каждом файле.  В таблице тегов, число, следующее после имени ноды,
хранит позицию начала этой ноды, в байтах от начала (разбиваемого)
файла.


<P>
Если вы используете для создания Info-файлов
<CODE>texinfo-format-buffer</CODE>, вы, возможно, захотите запустить команду
<CODE>Info-validate</CODE>.  (Команда <CODE>makeinfo</CODE> сама по себе делает
хорошие проверки, вам не нужно применять <CODE>Info-validate</CODE>.)  Однако,
вы не можете запустить команду проверки нод <KBD>M-x Info-validate</KBD> в
косвенных файлах.  Для получения информации о том, как предотвратить
разбиение файла и как проверить структуру нод, смотрите
С  цш  <A HREF="texinfo_28.html#sec268">Запуск <CODE>Info-validate</CODE></A>.



<H3><A NAME="sec239">Создание HTML</A></H3>
<P>
<A NAME="idx937"></A>


<P>
Как альтернативу обычному выводу в формате Info, вы можете использовать
ключ <SAMP>`--html'</SAMP> для создания вывода в формате HTML для установки на
Web-сайте (к примеру).  В данном выпуске <CODE>makeinfo</CODE> производит
монолитный HTML-файл; разбиение по главам или нодам не поддерживается.
Мы надеемся в скором времени реализовать эту возможность.


<P>
Выходному HTML-файлу дается имя в соответствии с <CODE>@setfilename</CODE>,
но расширение <SAMP>`.info'</SAMP> заменяется на <SAMP>`.html'</SAMP>.


<P>
Входной текст Texinfo, помеченный командой <CODE>@ifhtml</CODE>, будет давать
вывод, только если задан ключ <SAMP>`--html'</SAMP>.  Входной текст, помеченный
<CODE>@html</CODE>, передается на выход буквально (с подавлением обычного
преобразования входных символов <SAMP>`&#60;'</SAMP>, <SAMP>`&#62;'</SAMP> и <SAMP>`&#38;'</SAMP>, имеющих
особое значение в HTML).


<P>
Ключ <SAMP>`--footnote-style'</SAMP> на данный момент игнорируется при выводе
HTML; для сносок делаются гиперсвязи на конец выходного файла.


<P>
Создаваемый HTML главным образом соответствует стандарту (то есть HTML
2.0, RFC1866).  Исключение в том, что из команды <CODE>@multitable</CODE>
создаются таблицы HTML 3.2, но так, чтобы они как можно лучше
отображались броузерами без поддержки таблиц.  Пожалуйста, сообщайте о
выводе, полученном от <CODE>makeinfo</CODE> без сообщений об ошибок, но
нарушающем HTML 3.2 DTD как об ошибке программы.


<P>
В начало нод, как при выводе в Info, вставляются панели навигации.  Это
можно предотвратить, используя ключ <CODE>--no-headers</CODE> вместе с
<CODE>--no-split</CODE>.  Элементы заголовка <CODE>&#60;link&#62;</CODE> могут
поддерживать перемещение, как в Info, с броузерами, реализующими эту
возможность HTML 1.0, такими как Lynx и Emacs W3.  Все же вы
обычно теряете возможность поиска регулярных выражений и вхождений
именного указателя во многих файлах, предоставляемую программами чтения
Info.  Вместо этого, когда возможно, из команд Texinfo создаются
гиперсвязи.  Команды <SAMP>`@xref'</SAMP>, ссылающиеся на другие документы,
создаются в предположении, что они также доступны в форме HTML, и к
имени Info-файла в <SAMP>`@xref'</SAMP> добавляется <SAMP>`.html'</SAMP>.
Предположительно, часто это не будет работать.


<H2><A NAME="sec240">Установка Info-файла</A></H2>
<P>
<A NAME="idx938"></A>
<A NAME="idx939"></A>
<A NAME="idx940"></A>


<P>
Info-файлы обычно хранятся в каталоге <TT>`info'</TT>.  Вы можете читать
Info-файлы с помощью отдельной программы Info или программой чтения,
встроенной в Emacs.  (т рзС зш Info Ф    `info',  рцЧ `Top', введение в Info.)




<H3><A NAME="sec241">Файл-каталог <TT>`dir'</TT></A></H3>

<P>
Чтобы Info могла работать, в каталоге <TT>`info'</TT> должен быть файл,
служащий каталогом верхнего уровня системы Info.  По соглашению, этот
файл называется <TT>`dir'</TT>.  (Вы можете узнать местоположение этого
файла, нажав в Emacs <KBD>C-h i</KBD>, чтобы войти в Info, и затем <KBD>C-x
C-f</KBD>, чтобы увидеть полный путь к каталогу <TT>`info'</TT>.)


<P>
Файл <TT>`dir'</TT> сам по себе является Info-файлом.  В нем содержится меню
верхнего уровня для всех Info-файлов в системе.  Это меню выглядит
следующим образом:


<PRE>
* Menu:

* Info:    (info).     Система просмотра документации.
* Emacs:   (emacs).    Расширяемый, самодокументированный
                       текстовый редактор.
* Texinfo: (texinfo).  Создание печатного руководства с
                       помощью TeX или Info-файла из
                       одного исходного файла.
...
</PRE>

<P>
Каждый из этих пунктов меню указывает на первую (`Top') ноду Info-файла,
чье имя написано в круглых скобках.  (В пункте меню не обязательно
задавать ноду `Top', так как если нода не задана, Info сама переходит к
ноде `Top'.  т рзС зш С  цш  <A HREF="texinfo_8.html#sec82">Ссылки на другие Info-файлы</A>.)


<P>
Таким образом, пункт <SAMP>`Info'</SAMP> указывает на первую ноду файла
<TT>`info'</TT>, а пункт <SAMP>`Emacs'</SAMP> -- на первую ноду файла
<TT>`emacs'</TT>.

<P>
В каждом Info-файле, указатель `Вверх' (`Up') первой ноды ссылается на
файл <CODE>dir</CODE>.  Например, строка первой ноды руководства по Emacs
выглядит в Info так:


<PRE>
File: emacs  Node: Top, Up: (DIR), Next: Distrib
</PRE>

<P>
В данном случае имя файла <CODE>dir</CODE> написано заглавными буквами -- оно
может быть написано как заглавными, так и строчными.  В общем случае это
не так, но для <TT>`dir'</TT> делается исключение.




<H3><A NAME="sec242">Включение нового Info-файла</A></H3>
<P>
<A NAME="idx941"></A>
<A NAME="idx942"></A>
<A NAME="idx943"></A>
<A NAME="idx944"></A>
<A NAME="idx945"></A>


<P>
Чтобы включить новый Info-файл в систему, вы должны написать пункт меню
и добавить его в файл <TT>`dir'</TT> в каталоге <TT>`info'</TT>.  Например, если
вы добавляете документацию для GDB, вам следует написать такой новый
пункт:


<PRE>
* GDB: (gdb).           Отладчик C на уровне исходного кода.
</PRE>

<P>
Первая часть пункта меню -- это название этого пункта, за которым
следует двоеточие.  Во второй части записано имя Info-файла в круглых
скобках, и за ним точка.  Третья часть представляет собой описание.


<P>
Имя Info-файла обычно имеет расширение <TT>`.info'</TT>.  Значит, Info-файл
для GDB мог бы называться <TT>`gdb'</TT> или <TT>`gdb.info'</TT>.  Программы
чтения Info автоматически пробуют имена файлов и с расширением
<TT>`.info'</TT><A NAME="docf15" href="texinfo_foot.html#foot15">(15)</A>, и без него; поэтому лучше избегать
написания лишнего текста и не писать в пункте меню <TT>`.info'</TT> явно.
Например, в пункте меню GDB в качестве имени файла нужно использовать
<SAMP>`gdb'</SAMP>, а не <SAMP>`gdb.info'</SAMP>.




<H3><A NAME="sec243">Info-файлы в других каталогах</A></H3>
<P>
<A NAME="idx946"></A>
<A NAME="idx947"></A>
<A NAME="idx948"></A>


<P>
Если Info-файл не находится в каталоге <TT>`info'</TT>, есть три способа
указать его местоположение:


<OL>
<LI>

Написать полный путь в файле <TT>`dir'</TT> во второй части пункта
меню.
<LI>

Если вы пользуетесь Emacs, включить имя файла во второй файл <TT>`dir'</TT>
в его каталоге; и потом добавить имя этого каталога в переменную
<CODE>Info-directory-list</CODE> в вашем собственном или локальном для вашей
машины файле инициализации.

Эта переменная сообщает Emacs где искать файлы <TT>`dir'</TT> (эти файлы
должны обязательно называться <TT>`dir'</TT>).  Emacs объединяет файлы с
именем <TT>`dir'</TT> из каждого из перечисленных каталогов.  (В Emacs
версии 18, вы можете записать в переменную <CODE>Info-directory</CODE> имя
только одного каталога.)
<LI>

Указать имя каталога Info в переменной среды <SAMP>`INFOPATH'</SAMP> в вашем
файле инициализации <TT>`.profile'</TT> или <TT>`.cshrc'</TT>.  (Info-файлы, чье
местоположение задается таким способом, сможете найти только вы и те,
кто так же установил эту переменную.)
</OL>

<P>
Например, чтобы достичь тестового файла в каталоге
<TT>`/home/bob/info/'</TT>, вы можете добавить подобный пункт в меню
стандартного файла <TT>`dir'</TT>:


<PRE>
* Тест: (/home/bob/info/info-test).  Тестовый файл Боба.
</PRE>

<P>
В данном случае абсолютное имя файла <TT>`info-test'</TT> написано в
качестве второй части пункта меню.

<P>
<A NAME="idx949"></A>
Или вы можете написать такую команду в вашем файле <TT>`.emacs'</TT>:

<P>
<A NAME="idx950"></A>

<PRE>
(require 'info)
(setq Info-directory-list
      (cons (expand-file-name "/home/bob/info") Info-directory-list))
</PRE>

<P>
Она велит Emacs объединить файл <TT>`dir'</TT> из каталога
<TT>`/home/bob/info'</TT> с системным файлом <TT>`dir'</TT>.  Info перечислит
файл <TT>`/home/bob/info/info-test'</TT> как пункт меню файла
<TT>`/home/bob/info/dir'</TT>.  Emacs производит объединение, только когда
<KBD>M-x info</KBD> запущена первый раз, так что если вы хотите установить
<CODE>Info-directory-list</CODE> в сессии Emacs, где вы уже запускали
<CODE>info</CODE>, вы должны выполнить <CODE>(setq Info-dir-contents nil)</CODE>,
чтобы принудить Emacs заново составить файл <TT>`dir'</TT>.


<P>
<A NAME="idx951"></A>
И наконец, вы можете сообщить Info путь поиска, установив переменную
среды <SAMP>`INFOPATH'</SAMP> в файле инициализации вашей оболочки, таком как
<TT>`.cshrc'</TT>, <TT>`.profile'</TT> или <TT>`autoexec.bat'</TT>.  Если вы
пользуетесь оболочкой, совместимой с Bourne shell, такой как <CODE>sh</CODE>
или <CODE>bash</CODE>, вам нужно установить переменную среды <SAMP>`INFOPATH'</SAMP> в
файле инициализации <TT>`.profile'</TT>; но если вы пользуетесь <CODE>csh</CODE>
или <CODE>tcsh</CODE>, вы должны установить эту переменную в файле
<TT>`.cshrc'</TT>.  В системах MS-DOS/MS-Windows, вы должны установить
<SAMP>`INFOPATH'</SAMP> в вашем файле <TT>`autoexec.bat'</TT> или в Реестре.  Каждый
тип командного интерпретатора используют различный синтаксис.



<UL>
<LI>

В файле <TT>`.cshrc'</TT>, вы можете установить переменную <SAMP>`INFOPATH'</SAMP>
так:

<PRE>
setenv INFOPATH .:~/info:/usr/local/emacs/info
</PRE>

<LI>

В файле <TT>`.profile'</TT>, вы можете получить тот же результат,
написав:

<PRE>
INFOPATH=.:$HOME/info:/usr/local/emacs/info
export INFOPATH
</PRE>

<LI>

<A NAME="idx952"></A>
В файле <TT>`autoexec.bat'</TT> вы пишите такую команду<A NAME="docf16" href="texinfo_foot.html#foot16">(16)</A>:


<PRE>
set INFOPATH=.;%HOME%/info;c:/usr/local/emacs/info
</PRE>

</UL>

<P>
Как обычно, <SAMP>`.'</SAMP> обозначает текущий каталог.  Emacs использует
переменную среды <SAMP>`INFOPATH'</SAMP> для инициализации значения переменной
Emacs <CODE>Info-directory-list</CODE>.  Самостоятельная программа чтения Info
сливает все файлы, называемые <TT>`dir'</TT>, во всех каталогах,
перечисленных в переменной среды <SAMP>`INFOPATH'</SAMP>, в одно меню,
представляемое вам в ноде, называемой <SAMP>`(dir)Top'</SAMP>.


<P>
<A NAME="idx953"></A>
Какое бы значение вы не установили для <SAMP>`INFOPATH'</SAMP>, если его
последним символом является двоеточие<A NAME="docf17" href="texinfo_foot.html#foot17">(17)</A>, оно
замещается путем по умолчанию (задаваемым при компиляции).  Это дает вам
возможность дополнять путь по умолчанию, избавляя вас от необходимости
перечислять все стандартные каталоги.  Например (с использованием
синтаксиса <CODE>sh</CODE>):



<PRE>
INFOPATH=/local/info:
export INFOPATH
</PRE>

<P>
приводит к поиску сначала в <TT>`/local/info'</TT>, а потом в стандартных
каталогах.  Двойные двоеточия или двоеточия в начале не рассматриваются
особо.


<P>
<A NAME="idx954"></A>
Когда вы создаете свой собственный файл <TT>`dir'</TT> для использования с
<CODE>Info-directory-list</CODE> или <SAMP>`INFOPATH'</SAMP>, проще всего начать с
копирования существующего файла <TT>`dir'</TT> и замены всего текста после
<SAMP>`* Menu:'</SAMP> вашими желаемыми пунктами.  При таком способе сохранится
пунктуация и специальные символы CTRL-_, которые необходимы для Info.




<H3><A NAME="sec244">Установка файлов-каталогов Info</A></H3>

<P>
При установке в вашу систему Info-файла, вы можете использовать
программу <CODE>install-info</CODE> для обновления файла-каталога Info
<TT>`dir'</TT>.  Обычно <CODE>install-info</CODE> запускается make-файлом пакета
сразу после копирования Info-файла в подходящее для установки место.


<P>
<A NAME="idx955"></A>
<A NAME="idx956"></A>
Чтобы Info-файл мог работать с <CODE>install-info</CODE>, вы должны
использовать команды <CODE>@dircategory</CODE> и <CODE>@direntry</CODE> в исходном
Texinfo-файле.  Используйте <CODE>@direntry</CODE>...<CODE>@end
direntry</CODE> для задания пунктов меню, добавляемых в файл-каталог Info, и
<CODE>@dircategory</CODE> для задания той части каталога Info, в который их
следует поместить.  Вот как эти команды используются в данном
руководстве:



<PRE>
@dircategory Система документации Texinfo
@direntry
* Texinfo: (texinfo).           Формат документации GNU.
* install-info: (texinfo)Вызов install-info. ...
...
@end direntry
</PRE>

<P>
Это дает в Info-файле следующее:



<PRE>
INFO-DIR-SECTION Система документации Texinfo
START-INFO-DIR-ENTRY
* Texinfo: (texinfo).           Формат документации GNU.
* install-info: (texinfo)Вызов install-info. ...
...
END-INFO-DIR-ENTRY
</PRE>

<P>
Программа <CODE>install-info</CODE> видит эти строки в Info-файле и так
узнает, что нужно делать.


<P>
Всегда пишите команды <CODE>@direntry</CODE> и <CODE>@dircategory</CODE>
недалеко от начала Texinfo-файла, до первой команды <CODE>@node</CODE>.
Если вы напишете их после, <CODE>install-info</CODE> не заметит их.


<P>
Если вы используете <CODE>@dircategory</CODE> в исходном Texinfo-файле более
одного раза, каждое применение задает `текущую' категорию; все
последующие команды <CODE>@direntry</CODE> будут добавлять новый пункт к этой
категории.


<P>
Вот несколько рекомендуемых категорий <CODE>@dircategory</CODE>: `GNU
packages', `GNU programming tools', `GNU programming documentation',
`GNU Emacs Lisp', `GNU libraries', `Linux', `TeX', `Individual
utilities'.  Идея состоит в том, чтобы включать ноду `вызов' для каждой
устанавливаемой пакетом программы в категории `Individual utilities', а
вхождение для руководства целиком -- в другой подходящей категории.




<H3><A NAME="sec245">Вызов install-info</A></H3>

<P>
<A NAME="idx957"></A>


<P>
Программа <CODE>install-info</CODE> вставляет вхождения меню из Info-файла в
файл <TT>`dir'</TT>, каталог верхнего уровня системы Info (объяснения, как
работает файл <TT>`dir'</TT>, смотрите в предыдущих разделах).  Чаще всего
она запускается в процессе установки программного обеспечения или при
составлении каталога всех руководств в системе.  Обзор использования:



<PRE>
install-info [<VAR>ключ</VAR>]... [<VAR>info-файл</VAR> [<VAR>dir-файл</VAR>]]
</PRE>

<P>
Если не заданы <VAR>info-файл</VAR> или <VAR>dir-файл</VAR>, то должны быть заданы
ключи (описанные ниже), определяющие их.  Для них нет значений по
умолчанию, определяемых на стадии компиляции, и стандартный ввод не
используется.  <CODE>install-info</CODE> за один запуск может считать только
один info-файл и записать один dir-файл.


<P>
<A NAME="idx958"></A>
Если <VAR>dir-файл</VAR> (будучи задан) не существует, <CODE>install-info</CODE>
создает его, если возможно (без вхождений).


<P>
<A NAME="idx959"></A>
<A NAME="idx960"></A>
Если какой-нибудь входной файл сжат с помощью <CODE>gzip</CODE>
(Т рзС зш С  цш  `Invoking gzip'   <CITE>Gzip</CITE>), <CODE>install-info</CODE> автоматически
распаковывает его для чтения.  А если сжат <VAR>dir-файл</VAR>,
<CODE>install-info</CODE> также автоматически оставляет его сжатым после
записи всех изменений.  Если не существует сам <VAR>dir-файл</VAR>,
<CODE>install-info</CODE> пытается открыть <TT>`<VAR>dir-file</VAR>.gz'</TT>.


<P>
Ключи:


<DL COMPACT>

<DT><CODE>--delete</CODE>
<DD>
<A NAME="idx961"></A>
Удалить из <VAR>dir-файла</VAR> вхождения для <VAR>info-файла</VAR>.  Имя файла во
вхождениях в <VAR>dir-файле</VAR> должно совпадать с <VAR>info-файлом</VAR> (за
исключением допустимого суффикса <SAMP>`.info'</SAMP> в любом из них).  Не
вставлять новых вхождений.

<DT><CODE>--dir-file=<VAR>имя</VAR></CODE>
<DD>
<DT><CODE>-d <VAR>имя</VAR></CODE>
<DD>
<A NAME="idx962"></A>
<A NAME="idx963"></A>
Задает имя файла-каталога Info.  Это эквивалентно использованию
аргумента <VAR>dir-файл</VAR>.

<DT><CODE>--entry=<VAR>текст</VAR></CODE>
<DD>
<DT><CODE>-e <VAR>текст</VAR></CODE>
<DD>
<A NAME="idx964"></A>
<A NAME="idx965"></A>
Вставить <VAR>текст</VAR> в качестве вхождения в каталог Info; <VAR>текст</VAR>
должен иметь вид пункта меню Info плюс одна или более дополнительных
строк, начинающихся с пробельных символов.  Если вы зададите более
одного вхождения, все они будут добавлены.  Если вы не зададите
вхождений, они будут определены из самого Info-файла.

<DT><CODE>--help</CODE>
<DD>
<DT><CODE>-h</CODE>
<DD>
<A NAME="idx966"></A>
<A NAME="idx967"></A>
Показать сообщение об использовании, перечисляющее основные способы
использования и все доступные ключи, и завершить выполнение успешно.

<DT><CODE>--info-file=<VAR>файл</VAR></CODE>
<DD>
<DT><CODE>-i <VAR>файл</VAR></CODE>
<DD>
<A NAME="idx968"></A>
<A NAME="idx969"></A>
Задает Info-файл, который нужно установить в каталог.
Это эквивалентно использованию аргумента <VAR>info-файл</VAR>.

<DT><CODE>--info-dir=<VAR>кат</VAR></CODE>
<DD>
<DT><CODE>-D <VAR>кат</VAR></CODE>
<DD>
<A NAME="idx970"></A>
<A NAME="idx971"></A>
Задает каталог с файлом <TT>`dir'</TT>.  Эквивалентно
<SAMP>`--dir-file=<VAR>dir</VAR>/dir'</SAMP>.

<DT><CODE>--item=<VAR>текст</VAR></CODE>
<DD>
<A NAME="idx972"></A>
Синоним <SAMP>`--entry=<VAR>текст</VAR>'</SAMP>.  Вхождение в каталог Info на самом
деле является пунктом меню.

<DT><CODE>--quiet</CODE>
<DD>
<A NAME="idx973"></A>
Подавить вывод предупреждений.

<DT><CODE>--remove</CODE>
<DD>
<DT><CODE>-r</CODE>
<DD>
<A NAME="idx974"></A>
<A NAME="idx975"></A>
Синоним <SAMP>`--delete'</SAMP>.

<DT><CODE>--section=<VAR>разд</VAR></CODE>
<DD>
<DT><CODE>-s <VAR>разд</VAR></CODE>
<DD>
<A NAME="idx976"></A>
<A NAME="idx977"></A>
Поместить вхождения этого файла в раздел <VAR>разд</VAR> каталога.  Если вы
зададите более одного раздела, все вхождения будут добавлены в каждый из
разделов.  Если вы не зададите разделов, они будут определены из самого
info-файла.

<DT><CODE>--version</CODE>
<DD>
<DT><CODE>-V</CODE>
<DD>
<A NAME="idx978"></A>
<A NAME="idx979"></A>
<A NAME="idx980"></A>
Показать информацию о версии и завершить выполнение успешно.

</DL>
<P></P><HR>
 [<A HREF="texinfo_toc.html">Contents</A>] &#160; [<A HREF="texinfo_20.html">Previous</A>] &#160; [<A HREF="texinfo_22.html">Next</A>] &#160;<BR><HR><BR>

<!-- Rambler Stuff-->
<table Border=0 Width="100%" CELLPADDING="0" CELLSPACING="0" BORDER="0"
<tr>
<td ALign=Left vAlign=TOP>
<!--begin of Top100-->
<a href="http://top100.rambler.ru/top100/"><img src="http://counter.rambler.ru/top100.cnt?330202" alt="Rambler's Top100" width=1 height=1 border=0></a>
<!--end of Top100 code-->
</td>
<td ALign="Right" vALIGN=TOP>
<!--begin of Top100 logo-->
<a href="http://top100.rambler.ru/top100/">
<img src="http://top100-images.rambler.ru/top100/banner-88x31-rambler-blue.gif" alt="Rambler's Top100" width=88 height=31 border=0></a>
<!--end of Top100 logo -->
</td>
</tr>
</table>
<!--/Rambler Stuff -->
</body></html>


<script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-38951496-1']);
  _gaq.push(['_trackPageview']);
  // st1 Sunday, 06-Dec-2015 19:08:25 MSK
  // st2 109.252.59.207
  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>
