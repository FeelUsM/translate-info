<HTML>
<HEAD>
<META HTTP-EQUIV="content-type" content="text/html; charset=windows-1251">
<!-- Created by texi2html 1.57 from /ibend/man/texinfo/html/texinfo.texi on September, 29  1999 -->

<TITLE>Texinfo 4.0 - Задание и предотвращение разрывов.</TITLE>
</HEAD>
<BODY bgcolor="white" text="black">
 [<A HREF="texinfo_toc.html">Contents</A>] &#160; [<A HREF="texinfo_14.html">Previous</A>] &#160; [<A HREF="texinfo_16.html">Next</A>] &#160;<BR><HR><BR>

<H1><A NAME="sec175">Задание и предотвращение разрывов.</A></H1>
<P>
<A NAME="idx629"></A>
<A NAME="idx630"></A>


<P>
Обычно Texinfo-файл обрабатывается и TeX, и одной из команд
форматирования для Info.  Иногда в том или в другом выходном файле
разрывы строк, абзацев или страниц оказываются в `неправильных' местах.
Вы должны убедиться, что текст выглядит хорошо как в печатном
руководстве, так и в Info-файле.


<P>
Например, в печатном руководстве страница может быть разбита в середине
примера, что неудобно; чтобы предотвратить это, вы можете сохранить
целостность фрагмента текста, используя команды группирования, которые
удерживают текст от разделения между двумя страницами.  Напротив, вы
можете захотеть принудительно разбить страницу там, где обычно это не
случается.  К счастью, подобные проблемы возникают нечасто.  Если они
все же возникли, используйте команды создания или предотвращения
разрывов.


<P>
Команды разрыва создают или разрешают разрывы строк и абзацев:


<DL COMPACT>

<DT><CODE>@*</CODE>
<DD>
Принудительный разрыв строки.

<DT><CODE>@sp <VAR>n</VAR></CODE>
<DD>
Пропустить <VAR>n</VAR> пустых строк.

<DT><CODE>@-</CODE>
<DD>
Обозначить возможный перенос.

<DT><CODE>@hyphenation{<VAR>пе-ре-но-сы слова</VAR>}</CODE>
<DD>
Обозначить возможные места переносов в слове.
</DL>

<P>
Команды предотвращения разрыва строки сохраняют целостность текста в
пределах одной строки:


<DL COMPACT>

<DT><CODE>@w{<VAR>текст</VAR>}</CODE>
<DD>
Предотвращает разбиения между строк и переносы в <VAR>тексте</VAR>.
</DL>

<P>
Команды разбиения на страницы относятся только к печатному руководству,
так как в Info-файлах нет страниц.


<DL COMPACT>

<DT><CODE>@page</CODE>
<DD>
Начать новую страницу в печатном руководстве.

<DT><CODE>@group</CODE>
<DD>
Отметить фрагмент текста, который должен появляться целиком на одной
странице печатного руководства.

<DT><CODE>@need <VAR>тысячные дюйма</VAR></CODE>
<DD>
Начать новую страницу, если на текущей недостаточно места.
</DL>



<H2><A NAME="sec176"><CODE>@*</CODE>: Разрыв строки</A></H2>
<P>
<A NAME="idx631"></A>
<A NAME="idx632"></A>
<A NAME="idx633"></A>


<P>
Команда <CODE>@*</CODE> принудительно разрывает строку в печатном руководстве
и в документе Info.


<P>
Например,



<PRE>
Эта строка @* разбита @*в двух местах.
</PRE>

<P>
дает



<PRE>
Эта строка
 разбита
в двух местах.
</PRE>

<P>
(Заметьте, что пробел после первой команды <CODE>@*</CODE> перенесен на
следующую строку.)


<P>
Команда <CODE>@*</CODE> часто используется на странице с информацией об
авторских правах:



<PRE>
Это редакция 2.0 документации Texinfo,@*
для Texinfo ...
</PRE>

<P>
в этом примере команда <CODE>@*</CODE> запрещает TeX некрасиво
растягивать строку по всей странице.



<BLOCKQUOTE>
<P>
<STRONG>Обратите внимание:</STRONG> Не пишите фигурные скобки после команды
<CODE>@*</CODE>, они не нужны.


<P>
Не пишите в конце абзаца, содержащего команды <CODE>@*</CODE> команду
<CODE>@refill</CODE>; это приведет к перезаполнению абзаца после разбиения
строк и потере результата разбиения.
</BLOCKQUOTE>



<H2><A NAME="sec177"><CODE>@-</CODE> и <CODE>@hyphenation</CODE>: Переносы</A></H2>
<P>
<A NAME="idx634"></A>
<A NAME="idx635"></A>
<A NAME="idx636"></A>
<A NAME="idx637"></A>


<P>
Хотя алгоритм переносов в TeX обычно работает довольно хорошо, время
от времени он пропускает полезные точки переноса.  (Или, намного реже,
делает неправильный перенос.)  Тогда, для документов с необычным
словарем или при окончательной доводке печатного издания, вы можете
захотеть помочь TeX.  В Texinfo для этого предусмотрены две команды:


<DL COMPACT>

<DT><CODE>@-</CODE>
<DD>
Обозначить возможный перенос, то есть место, где TeX может (но не
обязан) сделать перенос.  Это особенно полезно, если появляется
переполненный бокс, из-за того что TeX не произвел допустимый перенос
(Т рзС зш С  цш  <A HREF="texinfo_20.html#sec223">Переполненные боксы</A>).  TeX не будет вставлять других точек
переноса в слово, содержащее <CODE>@-</CODE>.

<DT><CODE>@hyphenation{<VAR>пе-ре-но-сы слова</VAR>}</CODE>
<DD>
Сообщить TeX, как можно сделать переносы в слове.  Как показано, вы
помещаете <SAMP>`-'</SAMP> в каждой точке переноса.  Например:


<PRE>
@hyphenation{ма-ну-скрипт ма-ну-скрип-ты}
</PRE>

TeX использует заданные таким образом точки переноса, только если
слова точно совпадают, поэтому вы должны перечислить все необходимые
варианты.
</DL>

<P>
В документах Info переносы не используются, а значит эти команды не
имеют значения для них.




<H2><A NAME="sec178"><CODE>@w</CODE>{<VAR>текст</VAR>}: Предотвращение разрывов строк</A></H2>
<P>
<A NAME="idx638"></A>
<A NAME="idx639"></A>
<A NAME="idx640"></A>


<P>
Конструкция <CODE>@w{<VAR>текст</VAR>}</CODE> выводит <VAR>текст</VAR> и запрещает
разрывы строк внутри <VAR>текста</VAR>.


<P>
Вы можете использовать команду <CODE>@w</CODE>, чтобы запретить TeX
автоматически переносить длинное название, имя или фразу, которые
оказались близко к концу строки.  Например:



<PRE>
Вы можете скопировать программы GNU с
@w{@samp{ftp.gnu.org}}.
</PRE>

<P>
дает



<BLOCKQUOTE>
<P>
Вы можете скопировать программы GNU с <SAMP>`ftp.gnu.org'</SAMP>.
</BLOCKQUOTE>

<P>
<A NAME="idx641"></A>
<A NAME="idx642"></A>
<A NAME="idx643"></A>
Вы также можете использовать <CODE>@w</CODE> для получения неразрывного
пробела:



<PRE>
Ни одна из форматирующих программ не станет разбивать строку на
этом@w{ }пробеле.
</PRE>



<H2><A NAME="sec179"><CODE>@sp</CODE> <VAR>n</VAR>: Вставка пустых строк</A></H2>
<P>
<A NAME="idx644"></A>
<A NAME="idx645"></A>
<A NAME="idx646"></A>
<A NAME="idx647"></A>
<A NAME="idx648"></A>


<P>
Строка, начинающаяся с <CODE>@sp <VAR>n</VAR></CODE> и не содержащая ничего
больше, создает <VAR>n</VAR> пустых строк в печатном руководстве и в
Info-файле.  <CODE>@sp</CODE> также принудительно обрывает абзац.  Например,



<PRE>
@sp 2
</PRE>

<P>
создает две пустых строки.


<P>
Команда <CODE>@sp</CODE> чаще всего применяется в титульном листе.




<H2><A NAME="sec180"><CODE>@page</CODE>: Переход на новую страницу</A></H2>
<P>
<A NAME="idx649"></A>
<A NAME="idx650"></A>


<P>
Строка, содержащая только <CODE>@page</CODE>, начинает новую страницу в
печатном руководстве.  Эта команда не играет роли для Info-файлов, так
как они не разбиваются на страницы.  Команда <CODE>@page</CODE> часто
применяется на титульном листе в Texinfo-файле для начала страницы с
информацией об авторских правах.




<H2><A NAME="sec181"><CODE>@group</CODE>: Предотвращение разрывов страниц</A></H2>
<P>
<A NAME="idx651"></A>
<A NAME="idx652"></A>
<A NAME="idx653"></A>
<A NAME="idx654"></A>


<P>
Команда <CODE>@group</CODE> (на отдельной строке) применяется внутри
конструкции <CODE>@example</CODE> или подобной для начала неделимой
вертикальной группы, появляющейся в печатном документе целиком на одной
странице.  Группа завершается строкой, содержащей только <CODE>@end
group</CODE>.  Две эти команды сами по себе не производят никакого вывода и не
играют роли в Info-файле.


<P>
Хотя команда <CODE>@group</CODE> в принципе должна работать во многих
контекстах, ее текущая реализация работает надежно только внутри блоков
<CODE>@example</CODE> и его вариантов и внутри <CODE>@display</CODE>,
<CODE>@format</CODE>, <CODE>@flushleft</CODE> и <CODE>@flushright</CODE>.  т рзС зш С  цш  <A HREF="texinfo_11.html#sec116">Цитаты и примеры</A>.  (Все эти команды имеют общую черту -- каждая входная
строка дает одну строку на выходе.)  В других контекстах команда
<CODE>@group</CODE> может привести к ненормальному распределению
вертикального свободного места.


<P>
Это требование означает, что вы должны писать:



<PRE>
@example
@group
...
@end group
@end example
</PRE>

<P>
где команды <CODE>@group</CODE> и <CODE>@end group</CODE> расположены между
командами <CODE>@example</CODE> и <CODE>@end example</CODE>.


<P>
Команда <CODE>@group</CODE> чаще всего применяется, если нужно сохранить
фрагмент текста целиком на одной странице.  В этом руководстве по
Texinfo более 100 примеров содержат текст, заключенный между
<CODE>@group</CODE> и <CODE>@end group</CODE>.


<P>
Если вы забудете закончить группу, то при запуске TeX вы можете
получить странные и непонятные сообщения об ошибках.  Это происходит,
потому что TeX продолжает пытаться поместить остаток Texinfo-файла на
одну страницу и не выдает ошибок, пока не обработает довольно
значительный кусок текста.  Хорошим практическим правилом будет поискать
пропущенную команду <CODE>@end group</CODE>, если вы получаете от TeX
непонятные сообщения.




<H2><A NAME="sec182"><CODE>@need <VAR>mils</VAR></CODE>: Предотвращение разрывов страниц</A></H2>
<P>
<A NAME="idx655"></A>
<A NAME="idx656"></A>


<P>
Строка, содержащая только <CODE>@need <VAR>n</VAR></CODE>, начинает в печатном
руководстве новую страницу, если на текущей странице осталось места
меньше, чем <VAR>n</VAR> мил (тысячных долей дюйма).  Не пишите фигурные
скобки вокруг аргумента <VAR>n</VAR>.  Команда <CODE>@need <VAR>n</VAR></CODE> не имеет
значения в Info-файлах, так как они не разбиваются на страницы.

<P>
Перед этим абзацем написана команда <CODE>@need</CODE>, сообщающая TeX,
что нужно начать новую страницу, если на текущей осталось меньше 800 мил
(восьми десятых дюйма).  Это выглядит так:



<PRE>
@need 800
Перед этим абзацем написана ...
</PRE>

<P>
Команда <CODE>@need</CODE> полезна для предотвращения появления изолированных
строк (то есть строк, оказавшихся единственными в конце страницы).
<P></P><HR>
 [<A HREF="texinfo_toc.html">Contents</A>] &#160; [<A HREF="texinfo_14.html">Previous</A>] &#160; [<A HREF="texinfo_16.html">Next</A>] &#160;<BR><HR><BR>


<!-- Rambler Stuff-->
<table Border=0 Width="100%" CELLPADDING="0" CELLSPACING="0" BORDER="0"
<tr>
<td ALign=Left vAlign=TOP>
<!--begin of Top100-->
<a href="http://top100.rambler.ru/top100/"><img src="http://counter.rambler.ru/top100.cnt?330202" alt="Rambler's Top100" width=1 height=1 border=0></a>
<!--end of Top100 code-->
</td>
<td ALign="Right" vALIGN=TOP>
<!--begin of Top100 logo-->
<a href="http://top100.rambler.ru/top100/">
<img src="http://top100-images.rambler.ru/top100/banner-88x31-rambler-blue.gif" alt="Rambler's Top100" width=88 height=31 border=0></a>
<!--end of Top100 logo -->
</td>
</tr>
</table>
<!--/Rambler Stuff -->
</body></html>


<script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-38951496-1']);
  _gaq.push(['_trackPageview']);
  // st1 Sunday, 06-Dec-2015 19:08:25 MSK
  // st2 109.252.59.207
  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>
