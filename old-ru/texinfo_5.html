<HTML>
<HEAD>
<META HTTP-EQUIV="content-type" content="text/html; charset=windows-1251">
<!-- Created by texi2html 1.57 from /ibend/man/texinfo/html/texinfo.texi on September, 29  1999 -->

<TITLE>Texinfo 4.0 - Завершение Texinfo-файла</TITLE>
</HEAD>
<BODY bgcolor="white" text="black">
 [<A HREF="texinfo_toc.html">Contents</A>] &#160; [<A HREF="texinfo_4.html">Previous</A>] &#160; [<A HREF="texinfo_6.html">Next</A>] &#160;<BR><HR><BR>

<H1><A NAME="sec47">Завершение Texinfo-файла</A></H1>
<P>
<A NAME="idx183"></A>
<A NAME="idx184"></A>
<A NAME="idx185"></A>
<A NAME="idx186"></A>


<P>
В конце Texinfo-файла должны быть команды для создания именных
указателей и (обычно) содержаний, подробного и обзорного.  Он также
должен включать команду <CODE>@bye</CODE>, помечающую последнюю
обрабатываемую TeX строку.

<P>
Например:



<PRE>
@node    Указатель понятий, ,Указатель переменных, Top
@c       имя-ноды, следующая, предыдущая, вверх
@unnumbered Указатель понятий

@printindex cp

@contents
@bye
</PRE>



<H2><A NAME="sec48">Меню-указатели и печать именных указателей</A></H2>
<P>
<A NAME="idx187"></A>
<A NAME="idx188"></A>
<A NAME="idx189"></A>
<A NAME="idx190"></A>
<A NAME="idx191"></A>


<P>
Напечатать именной указатель -- значит включить его в руководство или
Info-файл.  Это не делается автоматически, потому что в Texinfo-файле вы
используете команду <CODE>@cindex</CODE> или другие команды, создающие
вхождения именного указателя; они только собирают исходные данные для
создания указателя.  Чтобы создать именной указатель, вы должны
поместить в том месте документа, где вы хотите его увидеть, команду
<CODE>@printindex</CODE>.  Кроме этого, при создании печатного руководства вы
должны запустить программу, называемую <CODE>texindex</CODE>
(Т рзС зш С  цш  <A HREF="texinfo_20.html#sec213">Форматирование и печать твердой копии</A>), которая сортирует исходные данные и записывает
сортированный именной указатель в файл.  Именно этот файл используется
для печати именного указателя.


<P>
В Texinfo предопределены шесть различных типов именных указателей:
указатель понятий, указатель функций, указатель переменных, указатель
клавиш, указатель программ и указатель типов данных
(Т рзС зш С  цш  <A HREF="texinfo_13.html#sec139">Предопределенные именные указатели</A>).  Каждый указатель имеет
двухбуквенное имя: <SAMP>`cp'</SAMP>, <SAMP>`fn'</SAMP>, <SAMP>`vr'</SAMP>, <SAMP>`ky'</SAMP>, <SAMP>`pg'</SAMP>
и <SAMP>`tp'</SAMP>.  Вы можете объединить указатели или поместить их в разные
разделы (Т рзС зш С  цш  <A HREF="texinfo_13.html#sec141">Объединение именных указателей</A>); вы также можете
определить свои именные указатели (Т рзС зш С  цш  <A HREF="texinfo_13.html#sec144">Определение новых именных указателей</A>).


<P>
Команда <CODE>@printindex</CODE> принимает в качестве аргумента двухбуквенное
имя именного указателя, читает соответствующий файл с сортированным
указателем и форматирует указатель соответствующим образом.

<P>
Команда <CODE>@printindex</CODE> не создает заголовка главы для именного
указателя.  Следовательно, перед командой <CODE>@printindex</CODE> вы должны
написать подходящую команду создания главы или раздела (обычно
<CODE>@unnumbered</CODE>), чтобы указатель имел заголовок и был упомянут в
содержании.  Перед командой <CODE>@unnumbered</CODE> пишите строку
<CODE>@node</CODE>.

<P>
Например:



<PRE>
@node Указатель переменных, Указатель понятий, Указатель функций, Top
@comment имя-ноды, следующая, предыдущая, вверх
@unnumbered Указатель переменных

@printindex vr

@node     Указатель понятий,     , Указатель переменных, Top
@comment имя-ноды, следующая, предыдущая, вверх
@unnumbered Указатель понятий

@printindex cp
</PRE>

<P>
Читателям нравится, когда указатель понятий расположен последним в
книге, потому что тогда его легче найти.  Наличие только одного
указателя также помогает читателям, так как тогда них у есть только одно
место для поиска (Т рзС зш С  цш  <A HREF="texinfo_13.html#sec143"><CODE>@synindex</CODE></A>)




<H2><A NAME="sec49">Создание содержания</A></H2>
<P>
<A NAME="idx192"></A>
<A NAME="idx193"></A>
<A NAME="idx194"></A>
<A NAME="idx195"></A>
<A NAME="idx196"></A>


<P>
Команды <CODE>@chapter</CODE>, <CODE>@section</CODE> и другие команды
структурирования предоставляют необходимые сведения для создания
содержания, но не приводят к действительному появлению содержания в
руководстве.  Чтобы сделать его, вы должны использовать команды
<CODE>@contents</CODE> и/или <CODE>@summarycontents</CODE>.


<DL COMPACT>

<DT><CODE>@contents</CODE>
<DD>
Создает содержание печатного руководства, включающее главы, разделы,
подразделы и так далее, а также приложения и ненумерованные главы.
(Заголовки, созданные последовательностями команд <CODE>@heading</CODE>, не
появляются в содержании.)

<DT><CODE>@shortcontents</CODE>
<DD>
<DT><CODE>@summarycontents</CODE>
<DD>
(<CODE>@summarycontents</CODE> -- синоним <CODE>@shortcontents</CODE>; две эти
команды совершенно одинаковы.)

Создают короткое или, иначе говоря, обзорное содержание, в котором
перечисляются только главы (и приложения, и ненумерованные главы).
Разделы, подразделы и подподразделы пропускаются.  Короткое содержание
требуется только для больших руководств, в дополнение к полному
содержанию.
</DL>

<P>
Обе команды для содержаний нужно писать на отдельной строке.  Команды
для содержаний автоматически создают заголовок в начале первой страницы
содержания, поэтому не включайте перед ними никаких команд для описания
структуры глав, таких как <CODE>@unnumbered</CODE>.


<P>
Так как в Info-файлах вместо содержания используются меню, команды
форматирования для Info игнорируют команды для вывода содержаний.  Но
содержания включаются в вывод в простом текстовом формате (создаваемом
командой <CODE>makeinfo --no-headers</CODE>).


<P>
Команды печати содержания можно помещать как в самом конце файла после
всех именных указателей (смотрите предыдущий раздел), непосредственно
перед командой <CODE>@bye</CODE> (смотрите следующий раздел), или недалеко от
начала файла, после <CODE>@end titlepage</CODE> (Т рзС зш С  цш  <A HREF="texinfo_4.html#sec37"><CODE>@titlepage</CODE></A>).
Преимущество первого способа в том, что вывод содержания всегда
соответствует истине, потому что он отражает только что сделанные
изменения.  Преимущество второго в том, что содержание печатается в
правильном месте, так что вам не нужно переорганизовывать DVI-файл или
перетасовывать бумагу.  Однако команды для печати содержания в начале
документа игнорируются при выводе на стандартный вывод.  


<P>
<A NAME="idx197"></A>
<A NAME="idx198"></A>
<A NAME="idx199"></A>
Как автор, вы можете поместить команды для печати содержания где вы
предпочитаете.  Но если вы просто печатаете руководство, вы можете
пожелать напечатать содержание после титульного листа даже если автор
поместил команды для печати содержания в конец документа (как в случае
большинства существующих документов Texinfo).  Вы можете сделать это
задав <CODE>@setcontentsaftertitlepage</CODE> и/или
<CODE>@setshortcontentsaftertitlepage</CODE>.  Первое печатает только главное
содержание после <CODE>@end titlepage</CODE>; второе печатает и краткое, и
полное содержание.  В любом случае любые последующие команды
<CODE>@contents</CODE> или <CODE>@shortcontents</CODE> игнорируются (если только
<CODE>@end titlepage</CODE> не была встречена вообще).


<P>
Вам нужно включать команды <CODE>@set...contentsaftertitlepage</CODE> в
начале документа (сразу после <CODE>@setfilename</CODE>, например).  Или,
если вы пользуетесь <CODE>texi2dvi</CODE> (Т рзС зш С  цш  <A HREF="texinfo_20.html#sec216">Форматирование с помощью <CODE>texi2dvi</CODE></A>), вы можете использовать его ключ <CODE>--texinfo</CODE> для
задания этого вообще без изменения исходного файла.  Например:



<PRE>
texi2dvi --texinfo=@setshortcontentsaftertitlepage foo.texi
</PRE>



<H2><A NAME="sec50"><CODE>@bye</CODE> Завершение файла</A></H2>
<P>
<A NAME="idx200"></A>


<P>
Команда <CODE>@bye</CODE> прекращает форматирование в TeX или Info.  Все,
что следует в файле после команды <CODE>@bye</CODE>, невидимо для
форматирующих команд.  Команда <CODE>@bye</CODE> должна находиться на
отдельной строке.

<P>
Вы можете, если хотите, писать заметки после строки <CODE>@bye</CODE>.  Эти
заметки не будут форматироваться и не появятся ни в Info-файле, ни в
печатном руководстве, как если бы текст после <CODE>@bye</CODE> был помещен
внутри блока <CODE>@ignore</CODE> ... <CODE>@end ignore</CODE>.  Вы также
можете написать после строки <CODE>@bye</CODE> список локальных переменных.
т рзС зш С  цш  <A HREF="texinfo_20.html#sec220">Использование списка локальных переменных</A>, для подробных сведений.
<P></P><HR>
 [<A HREF="texinfo_toc.html">Contents</A>] &#160; [<A HREF="texinfo_4.html">Previous</A>] &#160; [<A HREF="texinfo_6.html">Next</A>] &#160;<BR><HR><BR>

<!-- Rambler Stuff-->
<table Border=0 Width="100%" CELLPADDING="0" CELLSPACING="0" BORDER="0"
<tr>
<td ALign=Left vAlign=TOP>
<!--begin of Top100-->
<a href="http://top100.rambler.ru/top100/"><img src="http://counter.rambler.ru/top100.cnt?330202" alt="Rambler's Top100" width=1 height=1 border=0></a>
<!--end of Top100 code-->
</td>
<td ALign="Right" vALIGN=TOP>
<!--begin of Top100 logo-->
<a href="http://top100.rambler.ru/top100/">
<img src="http://top100-images.rambler.ru/top100/banner-88x31-rambler-blue.gif" alt="Rambler's Top100" width=88 height=31 border=0></a>
<!--end of Top100 logo -->
</td>
</tr>
</table>
<!--/Rambler Stuff -->
</body></html>


<script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-38951496-1']);
  _gaq.push(['_trackPageview']);
  // st1 Sunday, 06-Dec-2015 19:08:24 MSK
  // st2 109.252.59.207
  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>
